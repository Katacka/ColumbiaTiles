{"version":3,"sources":["meteor://ðŸ’»app/lib/tile_data.js","meteor://ðŸ’»app/server/main.js"],"names":["module","export","TileData","Mongo","link","v","Collection","Meteor","methods","tile","update","name","$set","find","sort","subtiles","isServer","initializeTileDB","numTiles","i","subtileArray","initializeSubTiles","updateTileDB","tileNum","push","updateSubtile","String","fromCharCode","num","char","idx","id","index","startup","publish","console","log","fetch"],"mappings":"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","file":"/app.js","sourcesContent":["import { Mongo } from 'meteor/mongo';\n\nexport const TileData = new Mongo.Collection('TileData');\n\nMeteor.methods({\n  'updateTile': (tile) => {\n    //console.log(tile);\n    TileData.update( { \"name\": tile.name }, { $set: tile } );\n  },\n  'sortTilePriority': () => { //TODO: Finish\n    TileData.find().sort({ subtiles })\n  }\n});\n\nif (Meteor.isServer) {\n  //initializeTileDB(68);\n\n  function initializeTileDB(numTiles) {\n    for (let i = 1; i <= numTiles; i++) {\n      let subtileArray = initializeSubTiles(i);\n      updateTileDB(subtileArray, i);\n    }\n  }\n\n  function initializeSubTiles(tileNum) {\n    let subtileArray = [];\n    for (let i = 0; i < 4; i++) {\n      subtileArray.push(updateSubtile(tileNum, String.fromCharCode(97 + i), i));\n    }\n    return subtileArray;\n  }\n\n  function updateSubtile(num, char, idx) {\n    let id = num + char;\n    return {\n      \"name\": \"Subtile_\" + id,\n      \"id\": id,\n      \"num\": num,\n      \"idx\": idx,\n      \"laurel\": {\n        \"dates\": {}\n        //\"date\": new Date(),\n        //\"class\": 0,\n        //\"coverage\": 0,\n        //\"resprouts\": 0,\n        //\"workHistory\": [], //Date, method, crewSize, crewLeader, comments\n        //\"photos\": [] //Photo, date, caption\n      },\n      \"blackberry\": {\n        \"dates\": {}\n\n\n      },\n      \"smallHolly\": {\n        \"dates\": {}\n\n        //\"date\": new Date(),\n        //\"class\": 0,\n        //\"coverage\": 0,\n        //\"resprouts\": 0,\n        //\"workHistory\": [], //Date, method, crewSize, crewLeader, comments\n        //\"photos\": [] //Photo, date, caption\n      },\n      \"largeHolly\": {\n        \"dates\": {}\n\n        //\"date\": new Date(),\n        //\"class\": 0,\n        //\"coverage\": 0,\n        //\"resprouts\": 0,\n        //\"workHistory\": [], //Date, method, crewSize, crewLeader, comments\n        //\"photos\": [] //Photo, date, caption\n      },\n      \"groundIvy\": {\n        \"dates\": {}\n\n        //\"class\": 0,\n        //\"coverage\": 0,\n        //\"resprouts\": 0,\n        //\"workHistory\": [], //Date, method, crewSize, crewLeader, comments\n        //\"photos\": [] //Photo, date, caption\n      },\n      \"treeIvy\": {\n        \"dates\": {}\n\n        //\"date\": new Date(),\n        //\"class\": 0,\n        //\"coverage\": 0,\n        //\"resprouts\": 0,\n        //\"workHistory\": [], //Date, method, crewSize, crewLeader, comments\n        //\"photos\": [] //Photo, date, caption\n      }\n    }\n  }\n\n  function updateTileDB(subtileArray, index) {\n    TileData.update({\n      \"name\": \"Tile_\" + index\n    }, {\n      \"name\": \"Tile_\" + index,\n      \"num\": index,\n      \"laurel\": {\n        \"dates\": {}\n\n        //\"date\": new Date(),\n        //\"class\": 0,\n        //\"coverage\": 0,\n      },\n      \"blackberry\": {\n        \"dates\": {}\n\n        //\"date\": new Date(),\n        //\"class\": 0,\n        //\"coverage\": 0,\n      },\n      \"smallHolly\": {\n        \"dates\": {}\n\n        //\"date\": new Date(),\n        //\"class\": 0,\n        //\"coverage\": 0,\n      },\n      \"largeHolly\": {\n        \"dates\": {}\n\n        //\"date\": new Date(),\n        //\"class\": 0,\n        //\"coverage\": 0,\n      },\n      \"groundIvy\": {\n        \"dates\": {}\n\n        //\"date\": new Date(),\n        //\"class\": 0,\n        //\"coverage\": 0,\n      },\n      \"treeIvy\": {\n        \"dates\": {}\n\n        //\"date\": new Date(),\n        //\"class\": 0,\n        //\"coverage\": 0,\n      },\n      \"subtiles\": subtileArray\n    }, {\n      \"upsert\": true\n    });\n  }\n}\n","import { Meteor } from 'meteor/meteor';\nimport { TileData } from '/lib/tile_data.js'\n\nMeteor.startup(() => {\n  Meteor.publish('TileData', () => {\n    console.log(TileData.find({}).fetch());\n    return TileData.find({});\n  });\n});\n"]}